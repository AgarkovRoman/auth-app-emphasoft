(this["webpackJsonpauth-app-emphasoft"]=this["webpackJsonpauth-app-emphasoft"]||[]).push([[0],{14:function(e,t,a){},32:function(e,t,a){e.exports=a(63)},37:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(28),o=a.n(s),c=(a(37),a(2)),l=(a(14),a(1)),m=a(3),u=a.n(m),i=a(7),p=(a(39),a(30)),d=a(12),h=a.n(d),f=Object(n.createContext)();function b(){return Object(n.useContext)(f)}var E=function(e){var t=Object(p.a)(),a=t.register,s=t.handleSubmit,o=t.errors,m=Object(n.useState)(!1),d=Object(c.a)(m,2),f=d[0],E=d[1],g=Object(n.useState)(""),N=Object(c.a)(g,2),v=(N[0],N[1]),w=Object(n.useState)(""),O=Object(c.a)(w,2),j=(O[0],O[1]),y=b().setAuthTokens;function k(){return(k=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("http://emphasoft-test-assignment.herokuapp.com/api-token-auth/",t);case 3:200===(a=e.sent).status&&(console.log("200",a.data.token),y(a.data),E(!0),v(t.username),j(t.password)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return console.log(o),f?r.a.createElement(l.a,{to:"/"}):r.a.createElement("div",{className:"login-form-wrap"},r.a.createElement("div",{className:"hello-box"},r.a.createElement("form",{className:"form",onSubmit:s((function(e){return k.apply(this,arguments)}))},r.a.createElement("div",{className:"form-log-in",id:"form-log-in"},r.a.createElement("div",{className:"form__group"},r.a.createElement("label",{className:"form__label"},"UserName"),r.a.createElement("input",{className:"form__input",type:"text",tabIndex:"1",placeholder:"Enter UserName",name:"username",ref:a({required:!0,minLength:3,maxLength:30})}),o.username&&"required"===o.username.type&&r.a.createElement("p",{className:"error"},"This is required field"),o.username&&"minLength"===o.username.type&&r.a.createElement("p",{className:"error"},"UserName should be more then 3 symbols"),o.username&&"maxLength"===o.username.type&&r.a.createElement("p",{className:"error"},"UserName should be less then 30 symbols")),r.a.createElement("div",{className:"form__group"},r.a.createElement("label",{className:"form__label",htmlFor:"Password"},"Password"),r.a.createElement("input",{className:"form__input",type:"password",tabIndex:"2",placeholder:"Enter password",name:"password",ref:a({required:!0,minLength:6,maxLength:30})}),o.password&&"required"===o.password.type&&r.a.createElement("p",{className:"error"},"This is required field"),o.password&&"minLength"===o.password.type&&r.a.createElement("p",{className:"error"},"UserName should be more then 6 symbols"),o.password&&"maxLength"===o.password.type&&r.a.createElement("p",{className:"error"},"UserName should be less then 30 symbols")),r.a.createElement("div",{className:"form__group"},r.a.createElement("button",{className:"button form__button button--blue",type:"submit"},"Login"))))))};var g=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"main-title"},"Hi! Log in, please"),r.a.createElement(E,{props:e}))};a(62);function N(e){var t=e.users;return r.a.createElement("ul",{className:"user-list"},t.map((function(e){return r.a.createElement("li",{key:e.id},"id:".concat(e.id," \u2014 ").concat(e.username))})))}var v=function(){var e,t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(""),m=Object(c.a)(l,2),u=m[0],i=m[1],p=Object(n.useState)("inc"),d=Object(c.a)(p,2),f=d[0],b=d[1],E=h.a.create({baseURL:"https://jsonplaceholder.typicode.com/",headers:{}});return Object(n.useEffect)((function(){E.get("users").then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",{className:"wrapper"},r.a.createElement("h1",{className:"main-title"},"First task"),r.a.createElement("div",{className:"controllers-container"},r.a.createElement("button",{className:"button form__button button--blue",onClick:function(){"inc"===f?(o(s.reverse()),b("dec")):"dec"===f&&(o(s.reverse()),b("inc"))}},"SortById"),r.a.createElement("input",{className:"form__input",type:"text",value:u,onChange:function(e){return i(e.target.value)},placeholder:"Find someone"})),r.a.createElement(N,{users:(e=s,e.filter((function(e){return e.username.toLowerCase().indexOf(u)>-1}))),setUsers:o}))},w=a(31);var O=function(e){var t=e.component,a=Object(w.a)(e,["component"]),n=b().authTokens;return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/login"})}}))},j=a(8);var y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"main-title"},"Home"),r.a.createElement("ul",null,r.a.createElement("li",{className:"first-link"},r.a.createElement(j.b,{to:"/first",className:"link"},"First task"))))};var k=function(e){var t=JSON.parse(localStorage.getItem("tokens")),a=Object(n.useState)(t),s=Object(c.a)(a,2),o=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.Provider,{value:{authTokens:o,setAuthTokens:function(e){localStorage.setItem("tokens",JSON.stringify(e)),m(e)}}},r.a.createElement("div",null,r.a.createElement(l.d,null,r.a.createElement(O,{exact:!0,path:"/",component:y}),r.a.createElement(l.b,{exact:!0,path:"/login",component:g}),r.a.createElement(O,{path:"/First",component:v})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j.a,null,r.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.a6971142.chunk.js.map